//=============================================================================
//
// 体力処理 [hp.cpp]
// Author : Miura　Yudai
//
//=============================================================================

//=============================================================================
//インクルード読み込み
//=============================================================================
#include "hp.h"
#include "manager.h"
#include "scene3D.h"
#include "renderer.h"

//=============================================================================
//静的メンバ変数宣言
//=============================================================================
LPDIRECT3DTEXTURE9 CHp::m_pTexture = NULL; //テクスチャ情報

//=============================================================================
// コンストラクタ
//=============================================================================
CHp::CHp(int nPriority, int nType)
{
}

//=============================================================================
// デストラクタ
//=============================================================================
CHp::~CHp()
{

}

//=============================================================================
// 初期化処理
//=============================================================================
HRESULT CHp::Init(D3DXVECTOR3 pos, float fHight, float fWidth)
{
	//初期化処理
	CScene2D::Init(pos, fHight, fWidth);

	//カラー設定関数
	SetCol(D3DXCOLOR(1.0f, 1.0f, 1.0f, 1.0f));

	return S_OK;
}

//=============================================================================
// 終了処理
//=============================================================================
void CHp::Uninit(void)
{
	//終了処理
	CScene2D::Uninit();

	//オブジェクトの破棄
	Release();
}

//=============================================================================
// 更新処理
//=============================================================================
void CHp::Update(void)
{
}

//=============================================================================
// 描画処理
//=============================================================================
void CHp::Draw(void)
{
	//描画処理
	CScene2D::Draw();
}

//=============================================================================
// テクスチャ設定処理
//=============================================================================
void CHp::Load(void)
{
	//デバイスへのポインタ
	LPDIRECT3DDEVICE9 pDevice;

	//デバイスの取得
	pDevice = CManager::GetRenderer()->GetDevice();

	// テクスチャの読み込み
	D3DXCreateTextureFromFile(pDevice, "data/TEXTURE/HP.png", &m_pTexture);
}
//=============================================================================
// テクスチャアンロード設定処理
//=============================================================================
void CHp::Unload(void)
{
	//テクスチャの開放
	if (m_pTexture != NULL)
	{
		m_pTexture->Release();
		m_pTexture = NULL;
	}
}

//=============================================================================
// 生成処理
//=============================================================================
CHp * CHp::Create(D3DXVECTOR3 pos,float fHight, float fWidth)
{
	//モデルを生成
	CHp *pHp = NULL;
	pHp = new CHp;

	//NULLチェック
	if (pHp != NULL)
	{
		//オブジェクトの初期化処理
		pHp->Init(pos, fHight, fWidth);

		//テクスチャ処理
		pHp->BindTexture(m_pTexture);
	}

	return pHp;
}
